<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Array.from()</title>
  </head>
  <body>
    <h1>Array.from()</h1>
    <p>
      The Array.from() method creates a new, shallow-copied Array instance from an array-like or
      iterable object.
    </p>
    <script>
      console.log(Array.from('foo')); // expected output: Array ["f", "o", "o"]
      console.log(Array.from([1, 2, 3], x => x + x)); // expected output: Array [2, 4, 6]
    </script>
    <h2>Syntax</h2>
    <code>Array.from(arrayLike [, mapFn [, thisArg]])</code>
    <h3>Parameters</h3>
    <p>
      arrayLike <br />
      An array-like or iterable object to convert to an array. <br />
      mapFn | Optional <br />
      Map function to call on every element of the array. <br />
      thisArg | Optional <br />
      Value to use as this when executing mapFn.
    </p>
    <h3>Return value: A new Array instance.</h3>
    <h3>Description</h3>
    <p>
      Array.from() lets you create Arrays from: <br />

      -array-like objects (objects with a length property and indexed elements); or <br />
      - iterable objects (objects such as Map and Set). Array.from() has an optional parameter
      mapFn, which allows you to execute a map() function on each element of the array being
      created. <br />

      More clearly, Array.from(obj, mapFn, thisArg) <br />
      has the same result as Array.from(obj).map(mapFn, thisArg), <br />
      except that it does not create an intermediate array. <br />

      This is especially important for certain array subclasses, like typed arrays, since the
      intermediate array would necessarily have values truncated to fit into the appropriate type.
      <br />
      The length property of the from() method is 1. <br />

      In ES2015, the class syntax allows sub-classing of both built-in and user-defined classes. As
      a result, static methods such as Array.from() are "inherited" by subclasses of Array, and
      create new instances of the subclass, not Array.
    </p>
    <script>
      // Array from a String
      Array.from('foo'); // [ "f", "o", "o" ]

      // Array from a Set
      const set = new Set(['foo', 'bar', 'baz', 'foo']);
      Array.from(set); // [ "foo", "bar", "baz" ]

      // Array from a Map
      const map = new Map([
        [1, 2],
        [2, 4],
        [4, 8]
      ]);
      Array.from(map); // [[1, 2], [2, 4], [4, 8]]

      const mapper = new Map([
        ['1', 'a'],
        ['2', 'b']
      ]);
      Array.from(mapper.values()); // ['a', 'b'];
      Array.from(mapper.keys()); // ['1', '2'];

      // Array from an Array-like object (arguments)
      function f() {
        return Array.from(arguments);
      }
      f(1, 2, 3); // [ 1, 2, 3 ]

      // Using arrow functions and Array.from()
      // Using an arrow function as the map function to
      // manipulate the elements
      Array.from([1, 2, 3], x => x + x); // [2, 4, 6]
      // Generate a sequence of numbers
      // Since the array is initialized with `undefined` on each position,
      // the value of `v` below will be `undefined`
      Array.from({ length: 5 }, (v, i) => i); // [0, 1, 2, 3, 4]

      // Sequence generator (range)
      // Sequence generator function (commonly referred to as "range", e.g. Clojure, PHP etc)
      const range = (start, stop, step) =>
        Array.from({ length: (stop - start) / step + 1 }, (_, i) => start + i * step);
      // Generate numbers range 0..4
      range(0, 4, 1); // [0, 1, 2, 3, 4]
      // Generate numbers range 1..10 with step of 2
      range(1, 10, 2); // [1, 3, 5, 7, 9]

      // Generate the alphabet using Array.from making use of it being ordered as a sequence
      range('A'.charCodeAt(0), 'Z'.charCodeAt(0), 1).map(x => String.fromCharCode(x));
      // ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"]
    </script>

    <h2>W3Schools</h2>
    <h3>Definition and Usage</h3>
    <p>
      The Array.from() method returns an Array object from any object with a length property or an
      iterable object.
    </p>
  </body>
</html>
